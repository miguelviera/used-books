{"version":3,"sources":["Context.js","apis/config.js","auth/api-auth.js","auth/auth-helper.js","components/core/Header.js","apis/product.js","apis/cart.js","components/cart/AddToCartButton.js","components/cart/Card.js","components/product/ProductSearch.js","components/core/Home.js","apis/user.js","components/user/Profile.js","components/user/EditProfile.js","apis/order.js","components/cart/Cart.js","components/order/Orders.js","components/product/Products.js","components/cart/VerticalCard.js","components/product/Product.js","components/product/ProductForm.js","components/product/NewPoduct.js","components/product/EditPoduct.js","auth/Signin.js","components/user/Signup.js","auth/PrivateRoute.js","MainRouter.js","App.js","reportWebVitals.js","index.js"],"names":["AppContext","createContext","useAppContext","useContext","baseUrl","signin","user","a","fetch","method","headers","body","JSON","stringify","response","json","console","log","signout","auth","isAuthenticated","window","sessionStorage","getItem","parse","authenticate","jwt","cb","setItem","clearJWT","removeItem","then","data","document","cookie","updateUser","Header","history","useHistory","itemTotal","userHasAuthenticated","className","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","onClick","event","push","create","credentials","product","created","t","read","productId","update","remove","list","params","query","queryString","listCategories","_id","cartItem","quantity","cartId","clearCart","listByUser","userId","AddToCartButton","item","setItemTotal","useState","active","token","total","Card","src","style","height","width","alt","name","price","owner","ProductList","products","filter","createdBy","map","i","marginBottom","ProductSearch","setProducts","itemNotFound","setItemNotFound","categories","setCategories","category","search","values","setValues","useEffect","error","handleChange","preventDefault","value","target","files","role","onSubmit","length","htmlFor","onChange","placeholder","Home","Profile","email","Date","toDateString","marginRight","EditProfile","password","undefined","orderId","signal","Cart","cartItems","setCartItems","checkout","setCheckout","loadCartItems","getTotal","element","href","textAlign","min","max","index","newCartItems","handleSubmit","Orders","orders","setOrders","loadOrders","scope","order","listStyle","Products","loadProducts","description","VerticalCard","setProduct","aria-hidden","Product","useParams","ProductForm","clickSubmit","accept","required","new_category","NewPoduct","image","redirect","e","productData","FormData","append","EditPoduct","Signin","redirectToReferrer","autoFocus","Signup","open","color","PrivateRoute","Component","component","rest","render","props","pathname","state","from","location","MainRouter","exact","path","App","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3c9d2125.chunk.js","sourcesContent":["import { useContext, createContext } from \"react\";\r\n\r\nexport const AppContext = createContext(null);\r\n\r\nexport function useAppContext() {\r\n  return useContext(AppContext);\r\n}","\r\nconst baseUrl = 'https://viera-used-books.herokuapp.com'\r\n\r\nexport {\r\n    baseUrl\r\n  }","import { baseUrl } from '../apis/config'\r\n\r\nconst signin = async (user) => {\r\n  try {\r\n    let response = await fetch(`${baseUrl}/auth/signin/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst signout = async () => {\r\n  try {\r\n    let response = await fetch(`${baseUrl}/auth/signout/`, { method: 'GET' })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nexport {\r\n  signin,\r\n  signout\r\n}","import { signout } from './api-auth.js'\r\n\r\nconst auth = {\r\n  isAuthenticated() {\r\n    if (typeof window == \"undefined\")\r\n      return false\r\n\r\n    if (sessionStorage.getItem('jwt'))\r\n      return JSON.parse(sessionStorage.getItem('jwt'))\r\n    else\r\n      return false\r\n  },\r\n  authenticate(jwt, cb) {\r\n    if (typeof window !== \"undefined\")\r\n      sessionStorage.setItem('jwt', JSON.stringify(jwt))\r\n    cb()\r\n  },\r\n  clearJWT(cb) {\r\n    if (typeof window !== \"undefined\")\r\n      sessionStorage.removeItem('jwt')\r\n    cb()\r\n    //optional\r\n    signout().then((data) => {\r\n      document.cookie = \"t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\"\r\n    })\r\n  },\r\n  updateUser(user) {\r\n    if(typeof window !== \"undefined\"){\r\n      if(sessionStorage.getItem('jwt')){\r\n         let auth = JSON.parse(sessionStorage.getItem('jwt'))\r\n         auth.user = user\r\n         sessionStorage.setItem('jwt', JSON.stringify(auth))\r\n       }\r\n    }\r\n  }\r\n}\r\n\r\nexport default auth\r\n","import React from 'react'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport {useAppContext} from '../../Context'\r\nimport auth from '../../auth/auth-helper'\r\n\r\nimport './Header.css';\r\n\r\nconst Header = () => {\r\n  let history = useHistory();\r\n  const { itemTotal, isAuthenticated, userHasAuthenticated } = useAppContext();\r\n\r\n  const handleSignout = event => {\r\n    userHasAuthenticated(false)\r\n    auth.clearJWT(() => history.push('/'))\r\n  } \r\n\r\n  return (\r\n      <div className=\"Header\">\r\n        <nav className=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\r\n          <Link className=\"navbar-brand\" to=\"/\" >MarketPlace</Link>\r\n          <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapse\" aria-controls=\"collapse\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"collapse\">\r\n            <ul className=\"navbar-nav mr-auto\">\r\n              <li className=\"nav-item active\">\r\n                <Link className=\"nav-link\" to=\"/\" >Home</Link>\r\n              </li>\r\n              {\r\n                isAuthenticated && (\r\n                  <>\r\n                    <li className=\"nav-item\">\r\n                      <Link className=\"nav-link\" to=\"/products/new\" >New Product</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <Link className=\"nav-link\" to=\"/products\" >My Products</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <Link className=\"nav-link\" to=\"/orders\" >My Orders</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <Link className=\"nav-link\" to=\"/profile\">My Profile</Link>\r\n                    </li>\r\n                    \r\n                  </>\r\n                )}\r\n            </ul>\r\n            <div className=\"form-inline my-2 my-lg-0\">\r\n              {isAuthenticated && (<>\r\n                <Link className=\"btn btn-success mr-sm-2\" to=\"/cart\">\r\n                  <i className=\"fa fa-shopping-cart\" ></i> Cart \r\n                  <span className=\"badge badge-light\">{itemTotal}</span>\r\n                </Link>\r\n                <button className=\"btn btn-outline-success my-2 my-sm-0\" onClick={handleSignout} type=\"submit\">SIGN OUT</button>\r\n              </>)\r\n              }\r\n              {\r\n                !isAuthenticated && (\r\n                  <>\r\n                    <Link className=\"btn btn-success mr-sm-2\" to=\"/signin\">SIGN IN</Link>\r\n                    <Link className=\"btn btn-success mr-sm-2\" to=\"/signup\">SIGN UP</Link>\r\n                  </>)\r\n              }\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n           \r\n                  \r\n                  \r\n    \r\n\r\n\r\nexport default Header;","import queryString from 'query-string'\r\nimport { baseUrl } from './config'\r\n\r\nconst create = async (credentials, product, created) => {\r\n  if(created)\r\n    product.created = created\r\n  try {\r\n      let response = await fetch(`${baseUrl}/api/products`, {\r\n          method: 'POST',\r\n          headers: {\r\n          'Accept': 'application/json',\r\n          'Authorization': 'Bearer ' + credentials.t\r\n          },\r\n          body: product\r\n      })\r\n        return response.json()\r\n      }catch(err) {\r\n        console.log(err)\r\n  }\r\n}\r\n\r\nconst read = async (productId) => {\r\n  console.log('productId from function ' +  productId)\r\n  try {\r\n    let response = await fetch(`${baseUrl}/api/products/` + productId, {\r\n      method: 'GET'\r\n    })\r\n    return response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst update = async (productId, product, credentials) => {\r\n  console.log('productId ' + productId)\r\n  try {\r\n    let response = await fetch(`${baseUrl}/api/products/`+productId, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      },\r\n      body: product\r\n    })\r\n    return response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n\r\n}\r\n\r\nconst remove = async (productId, credentials) => {\r\n    try {\r\n        let response = await fetch(`${baseUrl}/api/products/${productId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': 'Bearer ' + credentials.t\r\n        }\r\n        })\r\n        return response.json()\r\n    } catch(err) {\r\n        console.log(err)\r\n    }\r\n}\r\n\r\nconst list = async (params) => {\r\n  const query = queryString.stringify(params)\r\n  try {\r\n    let response = await fetch(`${baseUrl}/api/products?${query}`, {\r\n      method: 'GET',\r\n    })\r\n    \r\n    return response.json()\r\n  }catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst listCategories = async () => {\r\n  try {\r\n    let response = await fetch(`${baseUrl}/api/products/categories`, {\r\n      method: 'GET'\r\n    })\r\n    return response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nexport {\r\n  create,\r\n  read,\r\n  update,\r\n  remove,\r\n  listCategories,\r\n  list\r\n}","import queryString from 'query-string'\r\nimport { baseUrl } from './config'\r\nimport auth from '../auth/auth-helper'\r\n\r\nconst create = async (productId, credentials) => {\r\n  try {\r\n      let response = await fetch(`${baseUrl}/api/cart/${auth.isAuthenticated().user._id}/${productId}`, {\r\n          method: 'POST',\r\n          headers: {\r\n          'Accept': 'application/json',\r\n          'Authorization': 'Bearer ' + credentials.t\r\n          }\r\n      })\r\n        return response.json()\r\n      }catch(err) {\r\n        console.log(err)\r\n  }\r\n}\r\n\r\nconst update = async (cartItem, quantity, credentials) => {\r\n  try {\r\n    let response = await fetch(`${baseUrl}/api/cart/${cartItem}/${quantity}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      }\r\n    })\r\n    return response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n\r\n}\r\n\r\nconst remove = async (cartId, credentials) => {\r\n    try {\r\n        let response = await fetch(`${baseUrl}/api/cart/${cartId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': 'Bearer ' + credentials.t\r\n        }\r\n        })\r\n        return response.json()\r\n    } catch(err) {\r\n        console.log(err)\r\n    }\r\n}\r\n\r\nconst clearCart = async (credentials) => {\r\n  try {\r\n      let response = await fetch(`${baseUrl}/api/cart/${auth.isAuthenticated().user._id}/clearCart`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + credentials.t\r\n      }\r\n      })\r\n      return response.json()\r\n  } catch(err) {\r\n      console.log(err)\r\n  }\r\n}\r\n\r\nconst listByUser = async (userId, credentials) => {\r\n  try {\r\n    let response = await fetch(`${baseUrl}/api/cart/${userId}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n    }\r\n    })\r\n    return response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nexport {\r\n  create,\r\n  update,\r\n  remove,\r\n  listByUser,\r\n  clearCart\r\n}","import React, {useState, useEffect} from 'react'\r\nimport { useAppContext } from '../../Context'\r\nimport {create, listByUser, update} from '../../apis/cart'\r\nimport auth from '../../auth/auth-helper'\r\n\r\nexport default function AddToCartButton({item}) {\r\n  const jwt = auth.isAuthenticated()\r\n  const { itemTotal, setItemTotal } = useAppContext();\r\n  const [cartItems, setCartItems] = useState({})\r\n\r\n  const addToCart = () => {\r\n      create(item._id, {t: jwt.token}).then((data) => {\r\n        setItemTotal(data.total)\r\n      })\r\n    }\r\n\r\n  return (\r\n    auth.isAuthenticated() && item.active==true && <button className=\"btn btn-primary float-right\" onClick={addToCart}>Add to Card</button>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport AddToCartButton from '../cart/AddToCartButton'\r\nimport auth from '../../auth/auth-helper'\r\n\r\nconst Card = ({product}) =>{\r\n\r\n  return (\r\n      <div className=\"VerticalCard card\">\r\n        <Link to={`/products/${product._id}`}>\r\n          <img src={`http://localhost:3000/api/product/image/${product._id}`} style={{height: \"100%\", width: \"100%\"}} className=\"card-img-top\" alt=\"...\" />\r\n        </Link>\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title d-inline\">{product.name}</h5>\r\n          <p className=\"card-text d-inline float-right\">${product.price}</p>\r\n          <br />\r\n          <br />\r\n          {auth.isAuthenticated() && product.owner!=auth.isAuthenticated().user._id && <AddToCartButton item={product} />}\r\n        </div>\r\n      </div> \r\n    );\r\n}      \r\n\r\nexport default Card;\r\n","import React, {useState, useEffect} from 'react'\r\nimport { list} from '../../apis/product'\r\nimport {listCategories} from '../../apis/product'\r\nimport Card from '../cart/Card'\r\n\r\nimport auth from '../../auth/auth-helper'\r\n\r\n\r\nconst ProductSearch = () =>{\r\n  const [products, setProducts] = useState([])\r\n  const [itemNotFound, setItemNotFound] = useState(false)\r\n  const [categories, setCategories] = useState([])\r\n  const [values, setValues] = useState({\r\n    category: 'All',\r\n    active: true,\r\n    search: ''\r\n  })\r\n\r\n  useEffect(() => {\r\n    listCategories().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        setCategories(['All', ...data])\r\n      }\r\n    })\r\n  }, [])\r\n  \r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    list(values).then((data) => { \r\n      if (data.error) \r\n        console.log(data.error)\r\n      else{\r\n        setProducts(data)\r\n        setItemNotFound(data.length === 0)\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleChange = name => event => {\r\n    event.preventDefault()\r\n    const value = name === 'image'\r\n      ? event.target.files[0]\r\n      : event.target.value\r\n    setValues({...values,  [name]: value })\r\n    setItemNotFound(false)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"ProductSearch card\" style={{marginBottom: \"1em\"}}>\r\n        <div className=\"card-body\">\r\n            <form className=\"form-inline d-flex justify-content-center\" role=\"form\" onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label className=\"filter-col mr-sm-2\" htmlFor=\"category\">Category</label>\r\n                    <select id=\"category\" className=\"form-control mr-sm-2\" \r\n                        value={values.category}\r\n                        onChange={handleChange('category')}>\r\n                          {categories.map((category, i) => <option key={i}>{category}</option>)}\r\n                    </select>                                \r\n                </div> \r\n                <div className=\"form-group\">\r\n                    <input type=\"text\" className=\"form-control input-sm mr-sm-2\"\r\n                      value={values.search} \r\n                      onChange={handleChange('search')}\r\n                    placeholder=\"Search for Product Name\" id=\"pref-search\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <button type=\"submit\" className=\"btn btn-success mr-sm-2\">SEARCH</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n      </div>\r\n      {products.length===0&&values.category===\"All\"?\r\n          <div className=\"col-md-12\">\r\n            Please, make your search\r\n        </div>: \"\"\r\n        }\r\n        {itemNotFound&&values.category!==\"All\"?\r\n          <div className=\"col-md-12\">\r\n            No items found\r\n        </div>: \"\"\r\n        }\r\n      <ProductList products={products} />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst ProductList = ({products}) =>{\r\n \r\n  return (\r\n    <div className=\"ProductList\">\r\n      <div className=\"row\">\r\n        {\r\n          products\r\n            .filter(product => product.createdBy!=(auth.isAuthenticated()?auth.isAuthenticated().user._id:\"\"))\r\n            .map((product, i) => <div className=\"col-md-3\" style={{marginBottom: \"0.5em\"}} key={i}>\r\n            <Card product={product} />\r\n            {/* {(auth.isAuthenticated() && product.createdBy!=auth.isAuthenticated().user._id) && <Card product={product} />} */}\r\n          </div>)\r\n        }\r\n      </div> \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductSearch;\r\n","import React from 'react'\r\nimport ProductSearch from '../product/ProductSearch'\r\n\r\nconst Home = () =>{\r\n  return (\r\n    <div className=\"Home\">\r\n      <div className=\"row\">\r\n        <div className=\"col-sm-12\">\r\n          <ProductSearch />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import { baseUrl } from './config'\r\n\r\nconst create = async (user) => {\r\n  try {\r\n      let response = await fetch(`${baseUrl}/api/users/`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n      })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst list = async (signal) => {\r\n  try {\r\n    let response = await fetch('/api/users/', {\r\n      method: 'GET',\r\n      signal: signal,\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst read = async (params, credentials, signal) => {\r\n  try {\r\n    let response = await fetch('/api/users/' + params.userId, {\r\n      method: 'GET',\r\n      signal: signal,\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      }\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst update = async (userId, credentials, user) => {\r\n  console.log('userId '  + userId)\r\n  console.log('user '  + JSON.stringify(user))\r\n  try {\r\n    let response = await fetch(`${baseUrl}/api/users/` + userId, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst remove = async (params, credentials) => {\r\n  try {\r\n    let response = await fetch(`${baseUrl}/api/users/${params.userId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      }\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nexport {\r\n  create,\r\n  list,\r\n  read,\r\n  update,\r\n  remove\r\n}","import React from 'react'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport auth from '../../auth/auth-helper'\r\nimport {remove} from '../../apis/user'\r\nimport {useAppContext} from '../../Context'\r\n\r\nconst Profile = () => {\r\n  const { userHasAuthenticated } = useAppContext();\r\n  const jwt = auth.isAuthenticated()\r\n  let history = useHistory();\r\n  const handleDelete = () => {\r\n    remove({userId: auth.isAuthenticated().user._id}, {t: jwt.token}).then((data) => {\r\n      if (data && data.error) {\r\n        console.log('data '+ JSON.stringify(data))\r\n      } else {\r\n        userHasAuthenticated(false)\r\n        auth.clearJWT(() => history.push('/'))\r\n        history.push(\"/\");\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"card col-md-4 mx-auto\">\r\n      <div className=\"card-body\">\r\n        <div className=\"d-flex flex-column align-items-center text-center\">\r\n          <div className=\"mt-3\">\r\n            <h4>{auth.isAuthenticated().user.name}</h4>\r\n            <p className=\"text-secondary mb-1 mt-3\">Email: {auth.isAuthenticated().user.email}</p>\r\n            <p className=\"text-muted font-size-sm mt-3\">Joined: {new Date(auth.isAuthenticated().user.created).toDateString()}</p>\r\n            <Link className=\"btn btn-primary\" style={{marginRight: '5px'}} to=\"/profile/edit\" >Edit</Link>\r\n            <button className=\"btn btn-danger\" onClick={handleDelete}>Delete</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React, {useState, useEffect} from 'react'\r\nimport { useHistory} from 'react-router-dom'\r\n\r\nimport './EditProfile.css';\r\n\r\nimport {update} from '../../apis/user'\r\n\r\nimport auth from '../../auth/auth-helper'\r\n\r\nconst EditProfile = () => {\r\n  const jwt = auth.isAuthenticated()\r\n  let history = useHistory();\r\n  const [values, setValues] = useState({\r\n    name: auth.isAuthenticated().user.name,\r\n    email: auth.isAuthenticated().user.email,\r\n    password: \"\"\r\n  })\r\n\r\n  const clickSubmit = () => {\r\n    const user = {\r\n      name: values.name || undefined,\r\n      email: values.email || undefined,\r\n      password: values.password || undefined\r\n    }\r\n    update(auth.isAuthenticated().user._id, {t: jwt.token}, user).then((data) => {\r\n      if (data && data.error) {\r\n        setValues({ ...values, error: data.error})\r\n      } else {\r\n        auth.updateUser(data)\r\n        history.push(\"/profile\");\r\n      }\r\n    })\r\n  }\r\n  const handleChange = name => event => {\r\n    setValues({ ...values, [name]: event.target.value })\r\n  }\r\n\r\n  return (\r\n    <div className=\"card col-md-4 mx-auto\">\r\n        <hr className=\"border-light m-0\" />\r\n        <div className=\"card-body\">\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Name</label>\r\n            <input type=\"text\" className=\"form-control\" \r\n              value={values.name} onChange={handleChange('name')}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">E-mail</label>\r\n            <input type=\"text\" className=\"form-control mb-1\" \r\n              value={values.email} onChange={handleChange('email')}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Password</label>\r\n            <input type=\"password\" className=\"form-control mb-1\" \r\n              value={values.password} onChange={handleChange('password')}\r\n              placeholder=\"Password\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group text-right mt-3\">\r\n            <button type=\"button\" className=\"btn btn-primary\" onClick={clickSubmit}>Save changes</button>&nbsp;\r\n            <button type=\"button\" className=\"btn btn-danger\">Cancel</button>\r\n          </div>\r\n        </div>\r\n        {values.error && <p>{values.error}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditProfile;","import { baseUrl } from './config'\r\n\r\nconst create = async (userId, credentials, products, total) => {\r\n  try {\r\n    let response = await fetch(`${baseUrl}/api/orders`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + credentials.t\r\n        },\r\n        body: JSON.stringify({\r\n          \"products\": products,\r\n          \"user\": userId,\r\n          \"total\": total\r\n      })\r\n      })\r\n      return response.json()\r\n    }catch(err) {\r\n      console.log(err)\r\n    }\r\n}\r\n\r\nconst remove = async (orderId, credentials) => {\r\n  try {\r\n      let response = await fetch(`${baseUrl}/api/order/${orderId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + credentials.t\r\n      }\r\n      })\r\n      return response.json()\r\n  } catch(err) {\r\n      console.log(err)\r\n  }\r\n}\r\n\r\nconst listByShop = async (params, credentials, signal) => {\r\n  try {\r\n    let response = await fetch('/api/orders/shop/'+params.shopId, {\r\n      method: 'GET',\r\n      signal: signal,\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      }\r\n    })\r\n    return response.json()\r\n  }catch(err){\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst update = async (params, credentials, product) => {\r\n  try {\r\n    let response = await fetch('/api/order/status/' + params.shopId, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      },\r\n      body: JSON.stringify(product)\r\n    })\r\n    return response.json()\r\n  } catch(err){\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst cancelProduct = async (params, credentials, product) => {\r\n  try {\r\n    let response = await fetch('/api/order/'+params.shopId+'/cancel/'+params.productId, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      },\r\n      body: JSON.stringify(product)\r\n    })\r\n    return response.json()\r\n  }catch(err){\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst processCharge = async (params, credentials, product) => {\r\n  try {\r\n    let response = await fetch('/api/order/'+params.orderId+'/charge/'+params.userId+'/'+params.shopId, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      },\r\n      body: JSON.stringify(product)\r\n    })\r\n    return response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst getStatusValues = async (signal) => {\r\n  try {\r\n    let response = await fetch('/api/order/status_values', {\r\n      method: 'GET',\r\n      signal: signal\r\n    })\r\n    return response.json()\r\n  }catch(err) { \r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst listByUser = async (params, credentials, signal) => {\r\n  try {\r\n    let response = await fetch(`${baseUrl}/api/orders/user/`+params.userId, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      }\r\n    })\r\n    return response.json()\r\n  }catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst read = async (params, credentials, signal) => {\r\n  try {\r\n    let response = await fetch('/api/order/' + params.orderId, {\r\n      method: 'GET',\r\n      signal: signal\r\n    })\r\n    return response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nexport {\r\n  create,\r\n  listByShop,\r\n  update,\r\n  cancelProduct,\r\n  processCharge,\r\n  getStatusValues,\r\n  listByUser,\r\n  remove,\r\n  read\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport {create} from '../../apis/order'\r\nimport auth from '../../auth/auth-helper'\r\nimport {update, listByUser, remove, clearCart} from '../../apis/cart'\r\n\r\nimport './Cart.css';\r\n\r\nimport {useAppContext} from '../../Context'\r\n\r\nconst Cart = () => {\r\nconst { itemTotal, setItemTotal } = useAppContext();\r\nconst jwt = auth.isAuthenticated()\r\nlet history = useHistory();\r\nconst [cartItems, setCartItems] = useState([])\r\nconst [checkout, setCheckout] = useState(true)\r\n\r\nuseEffect(() => {\r\n    loadCartItems()\r\n}, [])\r\n\r\nconst loadCartItems = () => {\r\n    listByUser(auth.isAuthenticated().user._id, {t: jwt.token}).then((data) => {\r\n        setCartItems(data)\r\n        setCheckout(data.length > 0)\r\n    })\r\n}\r\n\r\nconst handleSubmit  = setItemTotal => event => {\r\n    event.preventDefault()\r\n\r\n    create(auth.isAuthenticated().user._id, {\r\n        t: jwt.token\r\n        }, cartItems, getTotal()).then((data) => {\r\n            if (data.error) \r\n                console.log(data.error)\r\n            clearCart({\r\n                t: jwt.token\r\n                }).then((data) => {\r\n                setItemTotal(0)\r\n                history.push(\"/\");\r\n            })\r\n    })\r\n    \r\n}\r\n\r\nconst handleChange = index => event => {\r\n    let quantity = event.target.value\r\n    let newCartItems = cartItems.map(item => item)\r\n    newCartItems[index].quantity = quantity\r\n    setCartItems(newCartItems)\r\n    update(newCartItems[index]._id, quantity, {\r\n        t: jwt.token\r\n        }).then((data) => {\r\n        // console.log('updated')\r\n    })\r\n}\r\n\r\nconst getTotal = () => {\r\n    let total = 0\r\n    for (let i = 0; i < cartItems.length; i++) \r\n        total += cartItems[i].quantity * cartItems[i].product.price\r\n    return total\r\n}   \r\n\r\nconst removeItem = (cartId) => event =>{\r\n    remove(cartId, {\r\n        t: jwt.token\r\n        }).then((data) => {\r\n        loadCartItems()\r\n        setItemTotal(itemTotal-1)\r\n    })\r\n}\r\n\r\nreturn (\r\n    <div className=\"Card card col-md-12 col-lg-6\">\r\n        <div className=\"col-sm-12\">\r\n            <table className=\"table table-hover\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Status</th>\r\n                        <th>Name</th>\r\n                        <th>Quantity</th>\r\n                        <th className=\"text-center\">Price</th>\r\n                        <th className=\"text-center\">Total</th>\r\n                        <th className=\"text-center\">Actions</th>\r\n                        <th> </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {cartItems.map((element, i) => <tr key={i}>\r\n                        <td className=\"col-sm-12\">\r\n                            <div className=\"media\">\r\n                                <Link className=\"thumbnail pull-left\" to={`/products/${element.product._id}`} > <img className=\"media-object\" alt=\"\"\r\n                                    src={`http://localhost:3000/api/product/image/${element.product._id}`}\r\n                                    style={{ width: \"72px\", height: \"72px\" }} /> </Link>\r\n                                <div className=\"media-body\">\r\n                                    <h4 className=\"media-heading\"><a href=\"#\"></a></h4>\r\n                                    <span>Status: </span><span className=\"text-warning\"><strong>In Stock</strong></span>\r\n                                </div>\r\n                            </div>\r\n                        </td>\r\n                        <td className=\"col-md-1 text-left\"><strong className=\"label label-danger\">{element.product.name}</strong></td>\r\n                        <td className=\"col-sm-1 col-md-1\" style={{ textAlign: \"center\" }}>\r\n                            <input type=\"number\" className=\"form-control\" min=\"1\" max={element.product.quantity} value={element.quantity} onChange={handleChange(i)}/>\r\n                        </td>\r\n                        <td className=\"col-sm-1 col-md-1 text-center\"><strong>{element.product.price}</strong></td>\r\n                        <td className=\"col-sm-1 col-md-1 text-center\"><strong>{element.product.price * element.quantity}</strong></td>\r\n                        <td className=\"col-sm-1 col-md-1\">\r\n                            <button type=\"button\" className=\"btn btn-danger\" onClick={removeItem(element._id, setItemTotal)}> \r\n                                Remove\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                    )}\r\n                </tbody>\r\n            </table>\r\n\r\n            {checkout && <div className=\"pull-right\">\r\n                <h3>Total</h3>\r\n                <h3><strong>{}</strong></h3>\r\n                <h3><strong>{getTotal()}</strong></h3>\r\n                <button type=\"button\" className=\"btn btn-success\" onClick={handleSubmit(setItemTotal)}>\r\n                    Checkout <span className=\"fa fa-play\"></span>\r\n                </button>\r\n                <br />\r\n                <br />\r\n            </div> }\r\n            \r\n        </div>\r\n    </div>\r\n);\r\n}\r\n\r\nexport default Cart;\r\n","import React, {useState, useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport { listByUser, remove } from '../../apis/order'\r\nimport auth from '../../auth/auth-helper'\r\nimport './Orders.css';\r\n\r\nconst Orders = () =>{\r\n  const [orders, setOrders] = useState([])\r\n  const jwt = auth.isAuthenticated()\r\n\r\n  useEffect(() => {\r\n    loadOrders()\r\n  }, [])\r\n\r\n  const handleRemove = (orderId) => {\r\n    remove(orderId, {t: jwt.token}).then((data) => {\r\n      if (data.error) \r\n        console.log(data.error)\r\n      loadOrders()\r\n    })\r\n  }\r\n\r\n  const loadOrders = () => {\r\n    listByUser({\r\n      userId: auth.isAuthenticated().user._id\r\n    }, {t: jwt.token }).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        setOrders(data)\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n      <table className=\"Orders table table-bordered\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">#</th>\r\n            <th scope=\"col\">Products</th>\r\n            <th scope=\"col\">Total</th>\r\n            <th scope=\"col\">Created</th>\r\n            <th scope=\"col\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {orders.map((order, i) => <tr key={i}>\r\n                      <th scope=\"row\">{i+1}</th>\r\n                      <td>\r\n                        {order.products.map((item, i) => <li key={i} style={{listStyle: 'none'}}>\r\n                          <Link to={`/products/${item.product._id}`}><h3 key={item._id}>{item.product.name} - Qt: {item.quantity}</h3><i className=\"far fa-trash-alt\"></i></Link>\r\n                        </li>)}\r\n                      </td>\r\n                      <th scope=\"row\">{order.total}</th>\r\n                      <td>{new Date(order.created).toDateString()}</td>\r\n                      <td>\r\n                        <button type=\"button\" className=\"btn btn-danger\" onClick={() => handleRemove(order._id)}>Remove<i className=\"far fa-trash-alt\"></i></button>\r\n                      </td>\r\n                    </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n","import React, {useState, useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {list, remove} from '../../apis/product'\r\n\r\nimport auth from '../../auth/auth-helper'\r\n\r\nimport './Products.css';\r\n\r\nconst Products = () =>{\r\n  const [products, setProducts] = useState([])\r\n  const jwt = auth.isAuthenticated()\r\n\r\n  useEffect(() => {\r\n    loadProducts()\r\n  }, [])\r\n\r\n  const handleRemove = (productId) => {\r\n    remove(productId, {t: jwt.token}).then((data) => {\r\n      loadProducts()\r\n    })\r\n  }\r\n\r\n  const loadProducts = () => {\r\n    list({\r\n      createdBy: auth.isAuthenticated().user._id\r\n    }).then((data)=>{\r\n      if (data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        setProducts(data)\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n      <table className=\"Products table table-bordered\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">#</th>\r\n            <th scope=\"col\">Pricture</th>\r\n            <th scope=\"col\">Name</th>\r\n            <th scope=\"col\">Description</th>\r\n            <th scope=\"col\">Category</th>\r\n            <th scope=\"col\">Quantity</th>\r\n            <th scope=\"col\">Price</th>\r\n            <th scope=\"col\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.map((product, i) => <tr key={i}>\r\n                      <th scope=\"row\">{i+1}</th>\r\n                      <td><img style={{width: '4em'}} src={`http://localhost:3000/api/product/image/${product._id}`} className=\"card-img-top\" alt=\"...\" /> </td>\r\n                      <td>{product.name}</td>\r\n                      <td>{product.description}</td>\r\n                      <td>{product.category}</td>\r\n                      <td>{product.quantity}</td>\r\n                      <td>{product.price}</td>\r\n                      <td>\r\n                        <Link type=\"button\" className=\"btn btn-success mr-sm-2\" to={`/products/edit/${product._id}`}>Edit<i className=\"far fa-trash-alt\"></i></Link>\r\n                          <button type=\"button\" className=\"btn btn-danger\" onClick={() => handleRemove(product._id)}>Remove<i className=\"far fa-trash-alt\"></i></button>\r\n                      </td>\r\n                    </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n  );\r\n}\r\n\r\nexport default Products;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {read} from '../../apis/product'\r\nimport AddToCartButton from '../cart/AddToCartButton'\r\n\r\nconst VerticalCard = ({id}) =>{\r\n    const [product, setProduct] = useState({});\r\n\r\n    useEffect(() => {\r\n        read(id).then((data)=>{\r\n          if (data.error) {\r\n              console.log(data.error)\r\n          } else {\r\n              setProduct(data)\r\n          }\r\n        })\r\n      }, [id])\r\n    \r\n    return (\r\n        <div className=\"VerticalCard card\" style={{width: \"20em\"}}>\r\n            <Link to={`/products/${product._id}`} >\r\n                {product._id?\r\n                    <img src={`http://localhost:3000/api/product/image/${product._id}`} style={{height: \"100%\", width: \"100%\"}} className=\"card-img-top\" alt=\"...\" />:\r\n                    <span className=\"spinner-grow spinner-grow-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n                }\r\n            </Link>\r\n            <div className=\"card-body\">\r\n            <p className=\"card-text\">Category: {product.category}</p>\r\n            <p className=\"card-text\">{ product.quantity>0 ? 'In Stock' : 'Out of Stock'}</p>\r\n            <h5 className=\"card-title d-inline\">{product.name}</h5>\r\n            <p className=\"card-text d-inline float-right\">${product.price}</p>\r\n            <p className=\"card-text\">{product.description}</p>\r\n                <AddToCartButton item={product} />\r\n            </div>\r\n        </div> \r\n    );\r\n}      \r\nexport default VerticalCard;\r\n","import React from 'react'\r\nimport { useParams} from 'react-router-dom'\r\nimport './Product.css';\r\nimport VerticalCard from '../cart/VerticalCard'\r\n\r\n\r\nconst Product = () =>{\r\n  let { id } = useParams();\r\n  return (\r\n    <div className=\"Product\">\r\n      <VerticalCard id={id} />\r\n    </div>\r\n);\r\n}\r\n\r\nexport default Product;","import React from 'react'\r\n\r\nconst ProductForm = ({values, clickSubmit, handleChange, categories}) =>{\r\n\r\n  return (<div className=\"card-body\">\r\n          <form onSubmit={clickSubmit}>\r\n            <div className=\"form-group\">\r\n              <input type=\"file\" accept=\"image/*\" className=\"form-control-file\" placeholder=\"Select Picture\" onChange={handleChange('image')} required />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Name\" value={values.name} onChange={handleChange('name')} required />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Description\" value={values.description} onChange={handleChange('description')} required />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"category\">Category</label>\r\n              <select className=\"form-control\" name=\"category\" value={values.category} onChange={handleChange('category')} required>\r\n                {categories.map((category, i) => <option key={i} value={category}>{category}</option>)}\r\n                <option value=\"notFound\">Not found</option>\r\n              </select>\r\n            </div>\r\n            {values.category===\"notFound\" && <div className=\"form-group\">\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"New Category\" value={values.new_category} onChange={handleChange('new_category')} required />\r\n              <small id=\"emailHelp\" className=\"form-text text-muted\">Fill this field with new category if not found!</small>\r\n            </div>}\r\n            <div className=\"form-group\">\r\n              <input type=\"number\" className=\"form-control\" placeholder=\"Quantity\" value={values.quantity} onChange={handleChange('quantity')} required />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"number\" className=\"form-control\" min=\"0\" placeholder=\"Price\" value={values.price} onChange={handleChange('price')} required />\r\n            </div>\r\n            <hr />\r\n            <button type=\"submit\" className=\"btn btn-primary mb-2 pull-right\">Submit</button>\r\n          </form>\r\n        </div>\r\n  );\r\n}\r\n\r\nexport default ProductForm;","import React, {useState, useEffect} from 'react'\r\nimport {create} from '../../apis/product'\r\n\r\nimport {Redirect} from 'react-router-dom'\r\nimport auth from '../../auth/auth-helper'\r\nimport ProductForm from './ProductForm'\r\nimport {listCategories} from '../../apis/product'\r\n\r\nimport './NewPoduct.css';\r\n\r\nconst NewPoduct = () =>{\r\n  const jwt = auth.isAuthenticated()\r\n  const [categories, setCategories] = useState([])\r\n  const [values, setValues] = useState({\r\n      name: '',\r\n      description: '',\r\n      image: '',\r\n      category: '',\r\n      quantity: '',\r\n      price: '',\r\n      new_category: '',\r\n      createdBy: auth.isAuthenticated().user._id,\r\n      redirect: false,\r\n      error: ''\r\n  })\r\n\r\n  const [new_category, setNewCategory] = useState({\r\n      new_category: '',\r\n      value: ''\r\n  })\r\n\r\n  useEffect(() => {\r\n    listCategories().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        if(data.length === 0) // If not categorties found\r\n          setValues({...values,  category: 'notFound' })\r\n        setCategories(data)\r\n      }\r\n    })\r\n  }, [])\r\n  \r\n  \r\n  const clickSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    let productData = new FormData()\r\n    values.name && productData.append('name', values.name)\r\n    values.description && productData.append('description', values.description)\r\n    values.image && productData.append('image', values.image)\r\n    values.category && productData.append('category', values.category===\"notFound\"?values.new_category:values.category)\r\n    values.quantity && productData.append('quantity', values.quantity)\r\n    values.price && productData.append('price', values.price)\r\n    values.createdBy && productData.append('createdBy', values.createdBy)\r\n\r\n    create({\r\n      t: jwt.token\r\n    }, productData).then((data) => {\r\n      if (data.error) {\r\n        setValues({...values, error: data.error})\r\n      } else {\r\n        setValues({...values, error: '', redirect: true})\r\n      }\r\n    })\r\n  }\r\n\r\n  if (values.redirect) {\r\n    return (<Redirect to={'/products'}/>)\r\n  }\r\n\r\n  const handleChange = name => event => {\r\n    const value = name === 'image'\r\n      ? event.target.files[0]\r\n      : event.target.value\r\n    setValues({...values,  [name]: value })\r\n  }\r\n\r\n  return (\r\n    <div className=\"NewProduct card \" style={{width: \"30em\"}}>\r\n      <div className=\"card-header\">\r\n        New Product Information\r\n      </div>\r\n      \r\n      <div className=\"card-body\">\r\n        <ProductForm values={values} handleChange={handleChange} clickSubmit={clickSubmit} categories={categories}/>\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default NewPoduct;","import React, { useState, useEffect } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport { read, update, listCategories } from '../../apis/product'\r\nimport ProductForm from './ProductForm'\r\nimport auth from '../../auth/auth-helper'\r\n\r\nimport './EditPoduct.css';\r\n\r\nconst EditPoduct = () => {\r\n  const jwt = auth.isAuthenticated()\r\n  let history = useHistory();\r\n  let { id } = useParams();\r\n  const [categories, setCategories] = useState([])\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    description: '',\r\n    image: '',\r\n    category: '',\r\n    quantity: '',\r\n    price: '',\r\n    createdBy: '121212',\r\n    redirect: false,\r\n    error: ''\r\n  })\r\n\r\n  useEffect(() => {\r\n    read(id).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        console.log('created ' + JSON.stringify(data))\r\n        setValues(data)\r\n      }\r\n    })\r\n    listCategories().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        setCategories(data)\r\n      }\r\n    })\r\n  }, [id])\r\n\r\n  const clickSubmit = (e) => {\r\n\r\n    e.preventDefault()\r\n\r\n    let productData = new FormData()\r\n    values.name && productData.append('name', values.name)\r\n    values.description && productData.append('description', values.description)\r\n    values.image && productData.append('image', values.image)\r\n    values.category && productData.append('category', values.category)\r\n    values.quantity && productData.append('quantity', values.quantity)\r\n    values.price && productData.append('price', values.price)\r\n    values.createdBy && productData.append('createdBy', values.createdBy)\r\n\r\n    update(id, productData, {t: jwt.token}).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error })\r\n      } else {\r\n        history.push(\"/products\");\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleChange = name => event => {\r\n    const value = name === 'image'\r\n      ? event.target.files[0]\r\n      : event.target.value\r\n    setValues({ ...values, [name]: value })\r\n  }\r\n\r\n  return (\r\n    <div className=\"NewProduct card \" style={{ width: \"30em\" }}>\r\n      <div className=\"card-header\">\r\n        Edit Product Information\r\n        </div>\r\n      <div className=\"card-body\">\r\n        <ProductForm values={values} handleChange={handleChange} clickSubmit={clickSubmit} categories={categories} />\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default EditPoduct;","import React, {useState} from 'react'\r\nimport auth from './../auth/auth-helper'\r\nimport {signin} from './api-auth.js'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {useAppContext} from '../Context'\r\nimport {listByUser} from '../apis/cart'\r\n\r\nimport './Signin.css';\r\n\r\nexport default function Signin() {\r\n  const {  isAuthenticated, userHasAuthenticated, setItemTotal } = useAppContext();\r\n  const jwt = auth.isAuthenticated()\r\n  let history = useHistory();\r\n  const [values, setValues] = useState({\r\n    email: '',\r\n    password: '',\r\n    error: '',\r\n    redirectToReferrer: false\r\n  })\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault()\r\n    const user = {\r\n      email: values.email || undefined,\r\n      password: values.password || undefined\r\n    }\r\n    signin(user).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error})\r\n      } else {\r\n        auth.authenticate(data, () => {\r\n        userHasAuthenticated(true)\r\n        listByUser(auth.isAuthenticated().user._id, {t: jwt.token}).then((data) => {\r\n          setItemTotal(data.length)\r\n          history.push(\"/\");\r\n        })\r\n      })\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleChange = name => event => {\r\n    setValues({ ...values, [name]: event.target.value })\r\n  }\r\n\r\n  return (\r\n      <div className=\"Signin\">\r\n        <form className=\"form-signin\" onSubmit={clickSubmit}>\r\n          <h1 className=\"h3 mb-3 font-weight-normal\">Sign In</h1>\r\n          <input type=\"email\" id=\"email\" className=\"form-control\" placeholder=\"Email\" \r\n           value={values.email} onChange={handleChange('email')}\r\n            required autoFocus \r\n          />\r\n          <input type=\"password\" id=\"password\" className=\"form-control\" \r\n            value={values.password} onChange={handleChange('password')}\r\n            placeholder=\"Password\" required \r\n          />\r\n          <br/> {\r\n            values.error && (\r\n              <p>{values.error}</p>\r\n            )}\r\n          <button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in</button>\r\n        </form>\r\n      </div>\r\n    )\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {create} from '../../apis/user'\r\n\r\nimport './Signup.css';\r\n\r\nconst Signup = () => {\r\n  let history = useHistory();\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    password: '',\r\n    email: '',\r\n    open: false,\r\n    error: ''\r\n  })\r\n  useEffect(() => {\r\n  }, [])\r\n\r\n  const handleChange = name => event => {\r\n    setValues({ ...values, [name]: event.target.value })\r\n  }\r\n\r\n  const clickSubmit = (e) => {\r\n    e.preventDefault()\r\n    const user = {\r\n      name: values.name || undefined,\r\n      email: values.email || undefined,\r\n      password: values.password || undefined\r\n    }\r\n    create(user).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error})\r\n      } else {\r\n        setValues({ ...values, error: '', open: true})\r\n        history.push(\"/signin\");\r\n      }\r\n    })\r\n  }   \r\n\r\n  return (\r\n      <div className=\"Signup\">\r\n        <form className=\"form-signup text-center\" onSubmit={clickSubmit}>\r\n          <h1 className=\"h3 mb-3 font-weight-normal\">Sign up</h1>\r\n          <input type=\"text\" id=\"name\" className=\"form-control resetBottomBorder\" \r\n            value={values.name} onChange={handleChange('name')}\r\n            placeholder=\"Name\" required autoFocus \r\n          />\r\n          <input type=\"email\" id=\"email\" className=\"form-control resetBorder\" \r\n            value={values.email} onChange={handleChange('email')}\r\n            placeholder=\"Email\" required autoFocus \r\n          />\r\n          <input type=\"password\" id=\"password\" className=\"form-control\" \r\n            value={values.password} onChange={handleChange('password')}\r\n            placeholder=\"Password\" required autoFocus \r\n          />\r\n          <button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign up</button>\r\n          {\r\n            values.error && (\r\n            <p className=\"mt-5 mb-3\" style={{color: 'red'}}>{values.error}</p>\r\n          )}\r\n        </form>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Signup;","import React, { Component } from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport auth from './auth-helper'\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route {...rest} render={props => (\r\n    auth.isAuthenticated() ? (\r\n      <Component {...props}/>\r\n    ) : (\r\n      <Redirect to={{\r\n        pathname: '/signin',\r\n        state: { from: props.location }\r\n      }}/>\r\n    )\r\n  )}/>\r\n)\r\n\r\nexport default PrivateRoute\r\n","import React from 'react'\r\nimport {Route, Switch} from 'react-router-dom'\r\n\r\nimport Header from './components/core/Header'\r\nimport Home from './components/core/Home'\r\nimport Profile from './components/user/Profile'\r\nimport EditProfile from './components/user/EditProfile'\r\nimport Cart from './components/cart/Cart'\r\nimport Orders from './components/order/Orders'\r\nimport Products from './components/product/Products'\r\nimport Product from './components/product/Product'\r\nimport NewPoduct from './components/product/NewPoduct'\r\nimport EditPoduct from './components/product/EditPoduct'\r\nimport Signin from './auth/Signin'\r\nimport Signup from './components/user/Signup'\r\nimport PrivateRoute from './auth/PrivateRoute'\r\n\r\n\r\nfunction MainRouter () {\r\n    return (\r\n        <div className=\"Home\">\r\n            <Header />\r\n            <div className=\"container-fluid\">\r\n                <Switch>\r\n                    <Route exact path=\"/\" component={Home}/>\r\n                    <PrivateRoute exact path=\"/cart\" component={Cart}/>\r\n                    <Route exact path=\"/signin\" component={Signin}/>\r\n                    <Route exact path=\"/signup\" component={Signup}/>\r\n                    <PrivateRoute exact path=\"/profile\" component={Profile}/>\r\n                    <PrivateRoute exact path=\"/profile/edit\" component={EditProfile}/>\r\n                    <PrivateRoute exact path=\"/orders\" component={Orders}/>\r\n                    <PrivateRoute path=\"/products/new\" component={NewPoduct}/>\r\n                    <PrivateRoute exact path=\"/products/edit/:id\" component={EditPoduct}/>\r\n                    <Route exact path=\"/products/:id\" component={Product}/>\r\n                    <PrivateRoute exact path=\"/products\" component={Products}/>\r\n                </Switch>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MainRouter ;","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport MainRouter from './MainRouter'\r\nimport {listByUser} from './apis/cart'\r\n\r\n\r\nimport {AppContext} from './Context'\r\nimport auth from './auth/auth-helper'\r\n\r\nfunction App() {\r\n  const jwt = auth.isAuthenticated()\r\n  const [isAuthenticated, userHasAuthenticated] = useState(auth.isAuthenticated());\r\n  const [itemTotal, setItemTotal] = useState(0)\r\n\r\n  useEffect(() => {\r\n    if(auth.isAuthenticated())\r\n      listByUser(auth.isAuthenticated().user._id, {t: jwt.token}).then((data) => {\r\n        setItemTotal(data.length)\r\n      })\r\n  }, [])\r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      <BrowserRouter>\r\n        <AppContext.Provider value={{ itemTotal, setItemTotal, isAuthenticated, userHasAuthenticated }}>\r\n          <MainRouter/>\r\n        </AppContext.Provider>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}